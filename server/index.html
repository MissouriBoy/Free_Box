<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>The Free Jukebox</title>
  <link type="text/css" rel="stylesheet" href="styles.css">
  <script src="script.js" type="text/javascript"></script>
</head>
<body>
    <div class="navbar">
        <h2 id="acm">The Free Jukebox</h1>
        <div id="links-section">
        </div>
    </div>
    
    <div class="Player">
        <h2>Upload your music here!</h1>
        <input type="file" id="input">
        <button onclick="uploadFnct()">Upload music</button>
        <p id="demo"></p>
    </div>

    <audio
        controls
        id="player"
        src="https://s3.us-east-2.amazonaws.com/freejukebox.space/Downforce.wav">
            Your browser does not support the
            <code>audio</code> element.
    </audio>
    <p id="time">Time:</p>
    <script>
        const audio = document.getElementById("player");

        audio.addEventListener('playing', (event) => {
            console.log('Video is no longer paused');
        });

        audio.addEventListener('pause', (event) => {
            console.log('Video is paused');
        });
        
        audio.addEventListener('seeked', (event) => {
            console.log(document.getElementById("player").currentTime);
        });
        
        function WebSocketTest() {
            
            if ("WebSocket" in window) {
               alert("WebSocket is supported by your Browser!");
               
               // Let us open a web socket
               var ws = new WebSocket("ws://localhost:3000");
				
               ws.onopen = function() {
                  
                  // Web Socket is connected, send data using send()
                  ws.send("Message to send");
                  alert("Message is sent...");
               };
				
               ws.onmessage = function (evt) { 
                  var received_msg = evt.data;
                  alert("Message is received...");
               };
				
               ws.onclose = function() { 
                  
                  // websocket is closed.
                  alert("Connection is closed..."); 
               };
            } else {
              
               // The browser doesn't support WebSocket
               alert("WebSocket NOT supported by your Browser!");
            }
        }

        WebSocketTest()
    </script>
</body>
</html>